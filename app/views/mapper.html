<div class="pure-g full-height">
    
	<div id="directory" class="pure-u-1-4">

		<div class="pure-g">
			<div class="pure-u-1-4 toolbar-bundle">

				<svg version="1.1" x="0px" y="0px" viewBox="0 0 88.1 88.1" ng-click="addAction('maps')" ng-class="{'selected' : action == 'maps'}">
					<g>
						<path id="Share" d="M69.05,58.1c-4.8,0-9.1,2.3-11.8,5.8l-24.3-14.1c1.5-3.7,1.5-7.8,0-11.5l24.3-14.1c2.7,3.5,7,5.8,11.8,5.8
							c8.3,0,15-6.7,15-15s-6.7-15-15-15s-15,6.7-15,15c0,2,0.4,4,1.1,5.7l-24.3,14.2c-2.8-3.5-7-5.8-11.8-5.8c-8.3,0-15,6.7-15,15
							s6.7,15,15,15c4.8,0,9.1-2.3,11.8-5.8l24.3,14.1c-0.7,1.7-1.1,3.7-1.1,5.7c0,8.3,6.7,15,15,15s15-6.7,15-15S77.35,58.1,69.05,58.1z
							 M69.05,4.1c6.1,0,11,4.9,11,11s-4.9,11-11,11c-6.1,0-11-4.9-11-11S62.95,4.1,69.05,4.1z M19.05,55.1c-6.1,0-11-4.9-11-11
							s4.9-11,11-11s11,4.9,11,11S25.15,55.1,19.05,55.1z M69.05,84.1c-6.1,0-11-4.9-11-11s4.9-11,11-11c6.1,0,11,4.9,11,11
							S75.15,84.1,69.05,84.1z"/>
					</g>
				</svg>
				<svg version="1.1" x="0px" y="0px" viewBox="0 0 612 612" ng-click="addAction('add')" ng-class="{'selected' : action == 'add'}">
					<g>
						<g id="plus">
							<g>
								<polygon points="612,286.893 325.116,286.893 325.116,0.296 286.903,0.296 286.903,286.893 0,286.893 0,325.107 286.903,325.107 
									286.903,611.704 325.116,611.704 325.116,325.107 612,325.107"/>
							</g>
						</g>
					</g>
				</svg>
				<svg version="1.1" x="0px" y="0px" viewBox="0 0 234 234" ng-click="addAction('modify')" ng-class="{'selected' : action == 'modify'}">
					<g>
						<path d="M7.5,42.571h39.235c3.327,12.646,14.856,22,28.531,22s25.204-9.354,28.531-22H226.5
							c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5H103.796c-3.327-12.646-14.856-22-28.531-22s-25.204,9.354-28.531,22H7.5
							c-4.142,0-7.5,3.358-7.5,7.5S3.358,42.571,7.5,42.571z M75.266,20.571c7.995,0,14.5,6.505,14.5,14.5s-6.505,14.5-14.5,14.5
							c-7.995,0-14.5-6.505-14.5-14.5S67.271,20.571,75.266,20.571z"/>
						<path d="M226.5,109.5h-49.99c-3.327-12.646-14.856-22-28.531-22c-13.675,0-25.204,9.354-28.531,22H7.5
							c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h111.949c3.327,12.645,14.856,22,28.531,22c13.675,0,25.204-9.355,28.531-22h49.99
							c4.142,0,7.5-3.358,7.5-7.5S230.642,109.5,226.5,109.5z M147.98,131.5c-7.995,0-14.5-6.505-14.5-14.5s6.505-14.5,14.5-14.5
							c7.995,0,14.5,6.505,14.5,14.5S155.975,131.5,147.98,131.5z"/>
						<path d="M226.5,191.429H103.796c-3.327-12.645-14.856-22-28.531-22s-25.204,9.355-28.531,22H7.5
							c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h39.235c3.327,12.646,14.856,22,28.531,22s25.204-9.354,28.531-22H226.5
							c4.142,0,7.5-3.358,7.5-7.5C234,194.787,230.642,191.429,226.5,191.429z M75.266,213.429c-7.995,0-14.5-6.505-14.5-14.5
							s6.505-14.5,14.5-14.5c7.995,0,14.5,6.505,14.5,14.5S83.261,213.429,75.266,213.429z"/>
					</g>
				</svg>

			</div>

			<div class="pure-u-3-4">
				
				<div ng-show="action == 'maps'">
				
					<div class="pure-g" ng-show="!showNewMapBlock">
						<div class="pure-u-3-4">
							<h2 class="large-margin">Maps</h2>
						</div>
						<div class="pure-u-1-4">
							<img class="float-right large-margin tiny-padding-top" src="Mapper/img/add.svg" ng-show="!showNewMapBlock" ng-click="showNewMapBlock=true">
						</div>
					</div>	

					<div ng-show="showNewMapBlock" class="large-margin-top">
						<label>Name</label>
					</div>
					<div class="pure-g" ng-show="showNewMapBlock">
						<div class="pure-u-5-8 small-margin-bottom">
							<input class="full-width" type="text" ng-model="newMapName">
						</div>
						<div class="pure-u-3-8">
							<button class="large-margin-left" ng-click="addMap(newMapName)">Add</button>
						</div>
					</div>
					
					<div ng-repeat="itMap in maps track by $index" class="small-margin-top" ng-class="{'selected-map' : itMap == map}">

						<div class="pure-g">
							<div class="pure-u-3-4">
								<div class="pointer map-line" ng-click="selectMap(itMap)">
									<svg version="1.1" x="0px" y="0px" viewBox="0 0 88.1 88.1" class="small-margin-left">
										<g>
											<path d="M69.05,58.1c-4.8,0-9.1,2.3-11.8,5.8l-24.3-14.1c1.5-3.7,1.5-7.8,0-11.5l24.3-14.1c2.7,3.5,7,5.8,11.8,5.8
												c8.3,0,15-6.7,15-15s-6.7-15-15-15s-15,6.7-15,15c0,2,0.4,4,1.1,5.7l-24.3,14.2c-2.8-3.5-7-5.8-11.8-5.8c-8.3,0-15,6.7-15,15
												s6.7,15,15,15c4.8,0,9.1-2.3,11.8-5.8l24.3,14.1c-0.7,1.7-1.1,3.7-1.1,5.7c0,8.3,6.7,15,15,15s15-6.7,15-15S77.35,58.1,69.05,58.1z
												 M69.05,4.1c6.1,0,11,4.9,11,11s-4.9,11-11,11c-6.1,0-11-4.9-11-11S62.95,4.1,69.05,4.1z M19.05,55.1c-6.1,0-11-4.9-11-11
												s4.9-11,11-11s11,4.9,11,11S25.15,55.1,19.05,55.1z M69.05,84.1c-6.1,0-11-4.9-11-11s4.9-11,11-11c6.1,0,11,4.9,11,11
												S75.15,84.1,69.05,84.1z"/>
										</g>
									</svg>
									<div class="inline-block vertical-align-top micro-margin-top small-margin-left map-name">{{itMap.name}}</div>
								</div>
							</div>
							<div class="pure-u-1-4">
								<img class="float-right small-margin-right micro-margin-top" src="Mapper/img/delete4.svg" ng-click="deleteMap(itMap)" ng-if="itMap == map">
							</div>
						</div>
						<div ng-if="itMap == map">
							<div ng-repeat="itNode in itMap.nodes track by itNode.id" 
							ng-click="selectNode(itNode)" 
							class="pointer tiny-padding" 
							ng-class="{'selected-node' : itNode == node}"
							ng-show="itNode == node || itNode.parent == null || itNode.parent == node.id || isAncesterNode(node, itNode) || isLineageSibling(node, itNode)">
								<div class='inline-block vertical-align-top tiny-margin-top' 
								ng-class="{'empty-bullet' : itNode != node, 'selected-bullet' : itNode == node, 'node-margin-{{itNode.depth}}' : true}"></div>
								<div class='inline-block'>{{itNode.name}}</div>
							</div>
						</div>
					</div>	

				</div>	

				<div ng-if="action == 'add'">
					<h2 class="large-margin">New node</h2>
			    	<div>
						<label>Name</label>
						<input type="text" ng-model="newNodeName" class="width-90 no-margin">
			    	</div>
					<div class="small-margin-top">
						<label>Text</label>
						<input type="text" ng-model="newNodeText" class="width-90 no-margin">
					</div>
					<button class="large-margin-top" ng-click="newNode(newNodeName, newNodeText)">Create</button>
				</div>			

			</div>
		</div>

	</div>
	
    <div id="map" class="pure-u-3-4">
	</div>
	
</div>